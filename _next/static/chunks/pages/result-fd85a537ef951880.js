(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[968],{7170:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/result",function(){return r(9666)}])},9666:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var n=r(5893),o=r(8986),i=r(1231),s=r(1204),c=r(7294),l=r(204),a=r(9564),d=r(4416),u=r(9222),x=r(4480),p=r(4926),h=r(1163),w=r(6243);function f(e){let{card:t,selected:r,setSelectedCard:o}=e,i=(0,x.sJ)(p.uo),s=()=>{o(t)};return(0,n.jsx)(d.E,{src:"".concat(i,"/cards/tarot_back.jpg"),alt:"tarot_back",w:"30px",m:"5px 3px",border:r?"2px solid black":"1px solid white",transform:r?"rotate(0.025turn)":"rotate(0turn)",onClick:s})}function m(e){let{setShowModal:t,clickedCardNo:r,setSubCardList:o,subCardList:i}=e,s=(0,x.sJ)(p.Ve),[d,h]=(0,c.useState)([]),m=(0,x.sJ)(p.cd),[j,b]=(0,c.useState)(),_=e=>{let t=e.filter(e=>!m.some(t=>t.card_no==e.card_no)),r=t.filter(e=>!i.some(t=>!!t&&t.card_no==e.card_no));for(let e=d.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[d[e],d[t]]=[d[t],d[e]]}return r},g=()=>{let e=[...i.slice(0,r),j,...i.slice(r+1)];o(e),t(!1)};return(0,c.useEffect)(()=>{switch(s){case"tarot":h(_(w.eG));break;case"symbol":h(_(w.FB))}},[s]),(0,n.jsx)(l.k,{w:"100vw",h:"100vh",position:"absolute",alignItems:"center",justifyContent:"center",zIndex:10,children:(0,n.jsxs)(l.k,{bgColor:"rgba(0, 0, 0, 0.7)",flexDir:"column",w:"90vw",h:"90vh",alignItems:"center",justifyContent:"center",borderRadius:"10px",p:"10px 0",border:"1px solid white",children:[(0,n.jsx)(a.x,{color:"white",children:"보조카드 뽑기"}),(0,n.jsx)(l.k,{align:"center",justify:"center",w:"100%",overflow:"scroll",flexWrap:"wrap",flex:1,m:"10px 0",children:d.map(e=>(0,n.jsx)(f,{setSelectedCard:b,card:e,selected:e.card_no===(null==j?void 0:j.card_no)},e.card_no))}),(0,n.jsx)(u.z,{bgColor:"transparent",onClick:g,border:"1px solid white",color:"white",children:"완료"})]})})}function j(){let[e,t]=(0,c.useState)(!1),[r,w]=(0,c.useState)(0),[f,j]=(0,c.useState)([,,,,,]),b=(0,x.sJ)(p.uo),_=(0,x.sJ)(p.cd),g=(0,x.sJ)(p.mC),k=(0,x.sJ)(p.l2),C=(0,h.useRouter)(),v=function(e){let{theme:t}=(0,s.uP)(),r=(0,o.OX)();return(0,c.useMemo)(()=>(0,i.Cj)(t.direction,{...r,...e}),[e,t.direction,r])}(),S=e=>{f[e]||(w(e),t(!0))},I=(e,t)=>{var r,o;return(0,n.jsxs)(l.k,{position:"relative",w:"".concat(90/k,"%"),m:"1%",alignItems:"center",justify:"center",children:[f[t]&&(0,n.jsxs)(l.k,{position:"absolute",top:"".concat(-21*k,"%"),w:"90%",direction:"column",alignItems:"center",children:[(0,n.jsx)(a.x,{w:"100%",textAlign:"center",fontSize:"sm",color:"white",mt:"5px",textOverflow:"clip",whiteSpace:"nowrap",children:null===(r=f[t])||void 0===r?void 0:r.card_name}),(0,n.jsx)(d.E,{borderRadius:"3px",w:"100%",src:b+(null===(o=f[t])||void 0===o?void 0:o.img_name),alt:"resultImg"})]}),(0,n.jsxs)(l.k,{w:"100%",direction:"column",alignItems:"center",onClick:()=>S(t),zIndex:"1",children:[(0,n.jsx)(d.E,{borderRadius:"4px",transform:e.reverse?"rotate(0.5turn)":"",w:"100%",src:b+e.img_name,alt:"resultImg"}),(0,n.jsx)(a.x,{w:"100%",textAlign:"center",fontSize:"sm",color:"white",mt:"5px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:e.card_name})]})]},e.card_no)};return(0,n.jsxs)(l.k,{w:"100%",h:"100%",align:"center",justify:"space-between",direction:"column",position:"relative",children:[e&&(0,n.jsx)(m,{subCardList:f,setSubCardList:j,clickedCardNo:r,setShowModal:t}),(0,n.jsx)(a.x,{w:"25px",h:"25px",lineHeight:"23px",textAlign:"center",position:"absolute",color:"white",right:"15px",top:"10px",border:"1px solid white",borderRadius:"100px",onClick:()=>{v({description:"카드를 클릭하면 보조카드를 선택할 수 있어요!",status:"info",duration:2e3,isClosable:!0})},children:"?"}),(0,n.jsx)(a.x,{w:"80%",color:"white",fontSize:"xl",mt:"20px",textAlign:"center",children:g||"결과"}),(0,n.jsx)(l.k,{align:"center",justify:"center",direction:"column",children:(0,n.jsx)(l.k,{p:"0 1%",w:"100%",justifyContent:"center",alignItems:"center",flexWrap:"wrap",m:"10px 0",children:_.map((e,t)=>I(e,t))})}),(0,n.jsx)(l.k,{mb:"20px",children:(0,n.jsx)(u.z,{bgColor:"transparent",color:"white",border:"1px solid white",onClick:()=>{confirm("정말 돌아가시겠습니까?")&&C.push("/")},children:"메인으로"})})]})}}},function(e){e.O(0,[784,774,888,179],function(){return e(e.s=7170)}),_N_E=e.O()}]);