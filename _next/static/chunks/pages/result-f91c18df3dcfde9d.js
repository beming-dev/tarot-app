(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[968],{7170:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/result",function(){return n(9666)}])},9666:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(5893),i=n(8986),o=n(1231),s=n(1204),c=n(7294),l=n(204),a=n(9564),d=n(4416),u=n(9222),x=n(4480),p=n(4926),h=n(1163),m=n(6243);function w(e){let{card:t,selected:n,setSelectedCard:i}=e,o=(0,x.sJ)(p.uo),s=()=>{i(t)};return(0,r.jsx)(d.E,{src:"".concat(o,"/cards/tarot_back.jpg"),alt:"tarot_back",w:"30px",m:"5px 3px",border:n?"2px solid black":"1px solid white",transform:n?"rotate(0.025turn)":"rotate(0turn)",onClick:s})}function f(e){let{setShowModal:t,clickedCardNo:n,setSubCardList:i,subCardList:o}=e,s=(0,x.sJ)(p.Ve),[d,h]=(0,c.useState)([]),f=(0,x.sJ)(p.cd),[j,b]=(0,c.useState)(),_=e=>{let t=e.filter(e=>!f.some(t=>t.card_no==e.card_no)),n=t.filter(e=>!o.some(t=>!!t&&t.card_no==e.card_no));for(let e=d.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[d[e],d[t]]=[d[t],d[e]]}return n},g=()=>{let e=[...o.slice(0,n),j,...o.slice(n+1)];i(e),t(!1)};return(0,c.useEffect)(()=>{switch(s){case"tarot":h(_(m.eG));break;case"symbol":h(_(m.FB))}},[s]),(0,r.jsx)(l.k,{w:"100vw",h:"100vh",position:"absolute",alignItems:"center",justifyContent:"center",zIndex:10,children:(0,r.jsxs)(l.k,{bgColor:"rgba(0, 0, 0, 0.7)",flexDir:"column",w:"90vw",h:"90vh",alignItems:"center",justifyContent:"center",borderRadius:"10px",p:"10px 0",border:"1px solid white",children:[(0,r.jsx)(a.x,{color:"white",children:"보조카드 뽑기"}),(0,r.jsx)(l.k,{align:"center",justify:"center",w:"100%",overflow:"scroll",flexWrap:"wrap",flex:1,m:"10px 0",children:d.map(e=>(0,r.jsx)(w,{setSelectedCard:b,card:e,selected:e.card_no===(null==j?void 0:j.card_no)},e.card_no))}),(0,r.jsx)(u.z,{bgColor:"transparent",onClick:g,border:"1px solid white",color:"white",children:"완료"})]})})}function j(){let[e,t]=(0,c.useState)(!1),[n,m]=(0,c.useState)(0),[w,j]=(0,c.useState)([,,,,,]),b=(0,x.sJ)(p.uo),_=(0,x.sJ)(p.cd),g=(0,x.sJ)(p.mC),k=(0,x.sJ)(p.l2),C=(0,h.useRouter)(),v=function(e){let{theme:t}=(0,s.uP)(),n=(0,i.OX)();return(0,c.useMemo)(()=>(0,o.Cj)(t.direction,{...n,...e}),[e,t.direction,n])}(),S=e=>{w[e]||(m(e),t(!0))},I=(e,t)=>{var n,i;return(0,r.jsxs)(l.k,{position:"relative",w:"".concat(90/k,"%"),m:"1%",alignItems:"center",justify:"center",children:[w[t]&&(0,r.jsxs)(l.k,{position:"absolute",top:"".concat(-21*k,"%"),w:"90%",minW:"90%",direction:"column",alignItems:"center",children:[(0,r.jsx)(a.x,{w:"100%",minW:"100%",textAlign:"center",fontSize:"sm",color:"white",mt:"5px",textOverflow:"clip",whiteSpace:"nowrap",children:null===(n=w[t])||void 0===n?void 0:n.card_name}),(0,r.jsx)(d.E,{borderRadius:"3px",w:"100%",minW:"100%",src:b+(null===(i=w[t])||void 0===i?void 0:i.img_name),alt:"resultImg"})]}),(0,r.jsxs)(l.k,{w:"100%",minW:"100%",direction:"column",alignItems:"center",onClick:()=>S(t),zIndex:"1",children:[(0,r.jsx)(d.E,{borderRadius:"4px",transform:e.reverse?"rotate(0.5turn)":"",w:"100%",minW:"100%",src:b+e.img_name,alt:"resultImg"}),(0,r.jsx)(a.x,{w:"100%",minW:"100%",textAlign:"center",fontSize:"sm",color:"white",mt:"5px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:e.card_name})]})]},e.card_no)};return(0,r.jsxs)(l.k,{w:"100%",minW:"100%",h:"100%",align:"center",justify:"space-between",direction:"column",position:"relative",children:[e&&(0,r.jsx)(f,{subCardList:w,setSubCardList:j,clickedCardNo:n,setShowModal:t}),(0,r.jsx)(a.x,{w:"25px",h:"25px",lineHeight:"23px",textAlign:"center",position:"absolute",color:"white",right:"15px",top:"10px",border:"1px solid white",borderRadius:"100px",onClick:()=>{v({description:"카드를 클릭하면 보조카드를 선택할 수 있어요!",status:"info",duration:2e3,isClosable:!0})},children:"?"}),(0,r.jsx)(a.x,{w:"80%",color:"white",fontSize:"xl",mt:"20px",textAlign:"center",children:g||"결과"}),(0,r.jsx)(l.k,{align:"center",justify:"center",direction:"column",children:(0,r.jsx)(l.k,{p:"0 1%",w:"100%",minW:"100%",justifyContent:"center",alignItems:"center",flexWrap:"wrap",m:"10px 0",children:_.map((e,t)=>I(e,t))})}),(0,r.jsx)(l.k,{mb:"20px",children:(0,r.jsx)(u.z,{bgColor:"transparent",color:"white",border:"1px solid white",onClick:()=>{confirm("정말 돌아가시겠습니까?")&&C.push("/")},children:"메인으로"})})]})}}},function(e){e.O(0,[784,774,888,179],function(){return e(e.s=7170)}),_N_E=e.O()}]);