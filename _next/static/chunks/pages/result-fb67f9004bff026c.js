(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[968],{7170:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/result",function(){return r(9666)}])},9666:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var n=r(5893),i=r(8986),o=r(1231),s=r(1204),l=r(7294),c=r(204),a=r(9564),d=r(4416),x=r(9222),u=r(4480),p=r(4926),h=r(1163),w=r(6243);function m(e){let{card:t,selected:r,setSelectedCard:i}=e,o=()=>{i(t)};return(0,n.jsx)(d.E,{src:"../background.jpg",alt:"tarot_back",w:"30px",h:"60px",m:"5px 3px",border:r?"1px solid white":"1px solid black",transform:r?"rotate(0.025turn)":"rotate(0turn)",onClick:o})}function f(e){let{setShowModal:t,clickedCardNo:r,setSubCardList:i,subCardList:o}=e,s=(0,u.sJ)(p.Ve),[d,h]=(0,l.useState)([]),f=(0,u.sJ)(p.cd),[j,b]=(0,l.useState)();(0,u.Zl)(p.cd);let g=e=>{let t=e.filter(e=>!f.some(t=>t.card_no==e.card_no)).filter(e=>!o.some(t=>(null==t?void 0:t.card_no)==e.card_no));for(let e=d.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[d[e],d[t]]=[d[t],d[e]]}return t},_=()=>{let e=[...o.slice(0,r),j,...o.slice(r+1)];i(e),t(!1)};return(0,l.useEffect)(()=>{switch(s){case"tarot":h(g(w.eG));break;case"symbol":h(g(w.FB))}},[s]),(0,n.jsx)(c.k,{w:"100vw",maxW:"800px",h:"100vh",position:"absolute",alignItems:"center",justifyContent:"center",zIndex:10,children:(0,n.jsxs)(c.k,{bgColor:"rgba(0, 0, 0, 0.7)",flexDir:"column",w:"90vw",h:"90vh",alignItems:"center",justifyContent:"space-between",borderRadius:"10px",p:"20px 0",border:"1px solid white",children:[(0,n.jsx)(a.x,{color:"white",children:"보조카드 뽑기"}),(0,n.jsx)(c.k,{align:"center",justify:"center",w:"100%",overflow:"hidden",flexWrap:"wrap",maxW:"500px",m:"10px 0",children:d.map(e=>(0,n.jsx)(m,{setSelectedCard:b,card:e,selected:e.card_no===(null==j?void 0:j.card_no)},e.card_no))}),(0,n.jsx)(x.z,{bgColor:"transparent",onClick:_,border:"1px solid white",color:"white",children:"완료"})]})})}function j(){let[e,t]=(0,l.useState)(!1),[r,w]=(0,l.useState)(0),[m,j]=(0,l.useState)([,,,,,]),b=(0,u.sJ)(p.cd),g=(0,u.sJ)(p.mC),_=(0,u.sJ)(p.l2),k=(0,h.useRouter)(),C=function(e){let{theme:t}=(0,s.uP)(),r=(0,i.OX)();return(0,l.useMemo)(()=>(0,o.Cj)(t.direction,{...r,...e}),[e,t.direction,r])}(),v=e=>{m[e]||(w(e),t(!0))},S=(e,t)=>{var r,i;return(0,n.jsxs)(c.k,{position:"relative",w:"".concat(90/_,"%"),maxW:"200px",m:"1%",alignItems:"center",justify:"center",children:[m[t]&&(0,n.jsxs)(c.k,{position:"absolute",top:"".concat(-21*_,"%"),w:"90%",direction:"column",alignItems:"center",children:[(0,n.jsx)(a.x,{w:"100%",textAlign:"center",fontSize:"sm",color:"white",mt:"5px",textOverflow:"clip",whiteSpace:"nowrap",children:null===(r=m[t])||void 0===r?void 0:r.card_name}),(0,n.jsx)(d.E,{w:"100%",src:null===(i=m[t])||void 0===i?void 0:i.img_name,alt:"resultImg",borderRadius:"10px"})]}),(0,n.jsxs)(c.k,{w:"100%",direction:"column",alignItems:"center",onClick:()=>v(t),zIndex:"1",children:[(0,n.jsx)(d.E,{transform:e.reverse?"rotate(0.5turn)":"",w:"100%",src:e.img_name,alt:"resultImg",borderRadius:"10px"}),(0,n.jsx)(a.x,{w:"100%",textAlign:"center",fontSize:"sm",color:"white",mt:"5px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:e.card_name})]})]},e.card_no)};return(0,n.jsxs)(c.k,{w:"100%",h:"100%",align:"center",justify:"space-between",direction:"column",position:"relative",children:[e&&(0,n.jsx)(f,{subCardList:m,setSubCardList:j,clickedCardNo:r,setShowModal:t}),(0,n.jsx)(a.x,{w:"25px",h:"25px",lineHeight:"23px",textAlign:"center",position:"absolute",color:"white",right:"15px",top:"20px",border:"1px solid white",borderRadius:"100px",onClick:()=>{C({description:"카드를 클릭하면 보조카드를 선택할 수 있어요!",status:"info",duration:2e3,isClosable:!0})},children:"?"}),(0,n.jsx)(a.x,{w:"80%",color:"white",fontSize:"xl",mt:"20px",textAlign:"center",children:g||"결과"}),(0,n.jsx)(c.k,{align:"center",justify:"center",direction:"column",children:(0,n.jsx)(c.k,{p:"0 1%",w:"100%",justifyContent:"center",alignItems:"center",flexWrap:"wrap",m:"10px 0",children:b.map((e,t)=>S(e,t))})}),(0,n.jsx)(c.k,{mb:"20px",children:(0,n.jsx)(x.z,{bgColor:"transparent",color:"white",border:"1px solid white",onClick:()=>{confirm("정말 돌아가시겠습니까?")&&k.push("/")},children:"메인으로"})})]})}}},function(e){e.O(0,[918,774,888,179],function(){return e(e.s=7170)}),_N_E=e.O()}]);